---
title: "è‡ªä½œã‚³ãƒžãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã®ä¾å­˜é–¢ä¿‚ã‚’æ™‚é–“ã‹ã‘ãšã«ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã—ç¶šã‘ã‚‹ãŸã‚ã«ã—ã¦ã„ã‚‹ã“ã¨"
emoji: "ðŸŒŸ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["npm", "github"]
published: true
---

è‡ªåˆ†ç”¨ã®ã‚³ãƒžãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã‚’[npm Registry](https://www.npmjs.com/)ã«å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚

åƒ•ãŒä½œã£ã¦ã„ã‚‹ãƒ„ãƒ¼ãƒ«ã¯æœ¬å½“ã«å€‹äººç”¨é€”ã®ãƒ„ãƒ¼ãƒ«ãªã®ã§ã€æ©Ÿèƒ½è¿½åŠ ã‚„ãƒã‚°ä¿®æ­£ã‚‚ã‚ã¾ã‚Šé »ç¹ã«è¡Œã£ã¦ã„ã¾ã›ã‚“ã€‚

ã—ã‹ã—ã€Node.jsã‚’ä½¿ã£ã¦ã„ã‚‹éƒ½åˆã©ã†ã—ã¦ã‚‚ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã‚ã‚Šã¾ã™ã€‚ãã®ãŸã‚ã€è‡ªä½œãƒ„ãƒ¼ãƒ«ã®æ©Ÿèƒ½è¿½åŠ ã®é »åº¦ã‚ˆã‚Šã‚‚ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹é »åº¦ã®ã»ã†ãŒé«˜ããªã‚Šã¾ã™ã€‚

å½“åˆã¯æ”¾ç½®ã—ã¦ã„ãŸã‚“ã§ã™ãŒã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ‘ãƒƒãƒã‚’ã‚ã¦ãªã„ã§ã„ã‚‹ã¨GitHubã‹ã‚‰ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ãŒæ¥ãŸã‚Šã€ãã‚‚ãã‚‚ï¼ˆç¾å®Ÿçš„ã«è„…å¨ã¨ãªã‚Šå¾—ã‚‹ã‹ã¯ã•ã¦ãŠã„ã¦ã‚‚ï¼‰è„†å¼±æ€§ãŒã‚ã‚‹çŠ¶æ…‹ã§å…¬é–‹ã—ç¶šã‘ã‚‹ã®ã‚‚ãªã‚“ã‹ç„¡è²¬ä»»ãªæ°—ãŒã—ã¾ã™ã€‚ã„ãã‚‰è‡ªåˆ†ç”¨ãƒ„ãƒ¼ãƒ«ã¨ã¯ã„ãˆå…¬é–‹ã™ã‚‹ä»¥ä¸Šã¯æœ€ä½Žé™ã®è²¬ä»»ã¯æžœãŸã—ãŸã»ã†ãŒã‚ˆã•ãã†ã ã¨æ€ã„ã¾ã—ãŸã€‚

ã¨ã¯ã„ãˆãã‚“ãªã«é•·ã„æ™‚é–“ã‹ã‘ã¦ã‚‚ã„ã‚‰ã‚Œã¾ã›ã‚“ã€‚ãƒ—ãƒ­ã‚°ãƒ©ãƒžãƒ¼ã¯æ€ æƒ°ãªã®ã§ã™ã€‚ã¨ã„ã†ã‚ã‘ã§ãã‚“ãªã«æ™‚é–“ã‚’ã‹ã‘ãšã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ã™ã‚‹ãƒ•ãƒ­ãƒ¼ã‚’è€ƒãˆã¦å®Ÿç¾ã—ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚

ç‰¹ã«dependabotã‚’å–ã‚Šå…¥ã‚Œã‚‹ã“ã¨ã«ã‚ˆã‚Šã€åƒ•ã¯é€±ã«15åˆ†ã‚‚ã‹ã‘ã‚‹ã“ã¨ãªããƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æ›´æ–°ã‚’ç¶™ç¶šã—ã¦ã„ã¾ã™ã€‚dependabotã®å°Žå…¥ã¯

## dependabotã®å°Žå…¥

è‡ªä½œãƒ„ãƒ¼ãƒ«ã®ã‚³ãƒ¼ãƒ‰ã¯GitHubã«ãƒ›ã‚¹ãƒˆã—ã¦ã„ã¾ã™ã€‚ã¨ã„ã†ã“ã¨ã§ã€æœ€åˆã«è€ƒãˆã‚‹ã®ã¯dependabotã®å°Žå…¥ã§ã—ã‚‡ã†ã€‚

[Dependabot ã‚’ä½¿ã† - GitHub Docs](https://docs.github.com/ja/code-security/dependabot/working-with-dependabot)

æ¯Žæ—¥æ¥ã‚‹ã¨ã•ã™ãŒã«å¤§å¤‰ãªã®ã§ã€é€±ã«1å›žã¾ã¨ã‚ã¦ãã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚

```yml
# .github/dependabot.yml 
version: 2
updates:
  - package-ecosystem: npm
    directory: '/'
    schedule:
      interval: weekly
      time: '00:00'
    open-pull-requests-limit: 10
    reviewers:
      - 515hikaru
    assignees:
      - 515hikaru
```

ã“ã‚Œã§æœˆæ›œæ—¥ã®æœ9æ™‚ã”ã‚ï¼ˆUTCã§æœˆæ›œæ—¥ã®åˆå‰0æ™‚ã”ã‚ï¼‰ã«æ¯Žé€±PRãŒå±Šãã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ã‚ã¨ã¯GitHub Actionsã§ãƒ†ã‚¹ãƒˆã‚’å‹•ã‹ã—ã¦ã„ã‚‹ã®ã§ã€ãã‚ŒãŒé€šã£ã¦ã„ãŸã‚‰ãƒžãƒ¼ã‚¸ã™ã‚‹ã€ãã‚‰ã„ã®æ“ä½œã§ã™ã€‚

ã“ã‚Œã§ã‚ã‚Œã°é€šå‹¤æ™‚é–“ã«ã‚¹ãƒžãƒ›ã‹ã‚‰ã§ã‚‚ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒå®‰å…¨ã«ã§ãã¾ã™ã€‚ã“ã‚Œã ã‘ã§ã‚‚ã€ãƒ‘ã‚½ã‚³ãƒ³ã‚’å–ã‚Šå‡ºã—ã¦ npm install ã—ã¦ãƒ†ã‚¹ãƒˆã‚’å‹•ã‹ã—ã¦......ã¨ã‹ã™ã‚‹ã®ã«æ¯”ã¹ã‚Œã°ã ã„ã¶æ¥½ã«ãªã‚Šã¾ã™ã­ã€‚

### è‡ªå‹•ãƒžãƒ¼ã‚¸

patchãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å¤‰æ›´ã§ã‹ã¤ãƒ†ã‚¹ãƒˆãŒé€šã‚Œã°ã€ã©ã®ã‚ˆã†ãªå¤‰æ›´ã§ã‚ã£ã¦ã‚‚ãƒžãƒ¼ã‚¸ã—ã¦ã—ã¾ã£ã¦ã»ã¨ã‚“ã©ã®å ´åˆå•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚

ã¨ã„ã†ã“ã¨ã§ã€dependabotã®è‡ªå‹•ãƒžãƒ¼ã‚¸ã‚‚è¨­å®šã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯[GitHubå…¬å¼ã«è©³ã—ãã‚„ã‚Šæ–¹ãŒæ›¸ã„ã¦ã‚ã‚‹ã®ã§ã“ã¡ã‚‰ã‚’å‚ç…§ãã ã•ã„](https://docs.github.com/ja/code-security/dependabot/working-with-dependabot/automating-dependabot-with-github-actions)ã€‚

### Actionsè‡ªä½“ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

çµæ§‹ã€å˜ä½“ãƒ†ã‚¹ãƒˆãªã©ã§GitHub Actionsã«åˆ©ç”¨ã™ã‚‹Actionsã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒç›²ç‚¹ã§ã™ã€‚.github/workflowsé…ä¸‹ã®YAMLã«æ›¸ãã€

```yaml
- uses: actions/checkout@v3
```

ã¿ãŸã„ãªã‚„ã¤ã§ã™ã€‚`@v3` ã¨ã‚ã‚‹ã‚ˆã†ã«ã€ã“ã‚Œã‚‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãŒãªã•ã‚Œã¦ã„ã¾ã™ã€‚ã¨ã„ã†ã“ã¨ã¯æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã™ã‚‹ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä½œæ¥­ãŒå¿…è¦ã§ã™ã€‚

å®Ÿã¯dependabotã¯Actionã®ä¾å­˜é–¢ä¿‚ã‚‚ç®¡ç†ã§ãã¾ã™ã€‚dependabot.ymlã® `package-ecosystem` ã®å€¤ã‚’github-actionsã«ã™ã‚‹ã ã‘ã§ã™ã€‚

Actionsã‚’ä½¿ã£ã¦å˜ä½“ãƒ†ã‚¹ãƒˆãªã©ã•ã¾ã–ã¾ãªã‚¸ãƒ§ãƒ–ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹å ´åˆã€è¨­å®šã‚’å¿…ãšã—ãŸã»ã†ãŒã„ã„ã§ã™ã€‚

å‚è€ƒ: [Configuration options for the dependabot.yml file - GitHub Docs](https://docs.github.com/ja/code-security/dependabot/dependabot-version-updates/configuration-options-for-the-dependabot.yml-file#package-ecosystem)

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä»¥å¤–ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ

ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§ã¯ãªã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚‚æœˆã«1å›žç¨‹åº¦ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

çœŸé¢ç›®ã«ã‚„ã‚‹ãªã‚‰ã€`npm outdated` ã‚³ãƒžãƒ³ãƒ‰ã§ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒã§ãã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—ã‚’ã—ã¦ã²ã¨ã¤ã²ã¨ã¤ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¦ã„ãã®ãŒæ­£æ”»æ³•ã§ã—ã‚‡ã†ã€‚

ã—ã‹ã—ä½•åº¦ã‚‚ç¹°ã‚Šè¿”ã—ã¦ã„ã‚‹ã‚ˆã†ã«ã€ä»Šå›žã®ç›®çš„ã¯ãªã‚‹ã¹ãæ¥½ã‚’ã™ã‚‹ã“ã¨ã§ã™ã€‚åƒ•ã®ãƒ„ãƒ¼ãƒ«ã¯å€‹äººç”¨ãƒ„ãƒ¼ãƒ«ãªã®ã§ã€ãƒ†ã‚¹ãƒˆã•ãˆé€šã‚Œã°ã‚ã¾ã‚Šè‚©è‚˜å¼µã‚‰ãšã«ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã•ãˆã‚„ã£ã¦ã‚‚æ§‹ã„ã¾ã›ã‚“ã€‚

ã¨ã„ã†ã“ã¨ã§ã€ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚‚å«ã‚ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã‚’ï¼ˆæ‰‹å‹•æ“ä½œã§ã‚ˆã„ã®ã§ï¼‰ã‚µã‚¯ãƒƒã¨ã‚„ã‚‹æ–¹æ³•ã‚’æŽ¢ã—ãŸã¨ã“ã‚ `npm-check-updates` ã‚³ãƒžãƒ³ãƒ‰ã‚’è¦‹ã¤ã‘ãŸã®ã§ç´¹ä»‹ã—ã¾ã™ã€‚

### npm-check-updates

[raineorshine/npm-check-updates: Find newer versions of package dependencies than what your package.json allows](https://github.com/raineorshine/npm-check-updates)

ä½¿ã„æ–¹ã¯ã¨ã¦ã‚‚ç°¡å˜ã§ã™ã€‚ã¾ãšè‡ªåˆ†ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆpackage.jsonãŒã‚ã‚Šã¨ã“ã‚ï¼‰ã§

```
npx ncu
```

ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚ã™ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªæ„Ÿã˜ã§ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§ãã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒªã‚¹ãƒˆãŒå‡ºã¦ãã¾ã™ï¼ˆ[ä»¥ä¸‹ã®ãƒªã‚¹ãƒˆã¯ä¸Šè¨˜ãƒªãƒã‚¸ãƒˆãƒªã®READMEã‹ã‚‰å¼•ç”¨](https://github.com/raineorshine/npm-check-updates/blob/e50fff0e777fc8fb2d2b55652dd74effaaa276ed/README.md)ï¼‰ã€‚

```
Checking package.json
[====================] 5/5 100%

 eslint             7.32.0  â†’    8.0.0
 prettier           ^2.7.1  â†’   ^3.0.0
 svelte            ^3.48.0  â†’  ^3.51.0
 typescript         >3.0.0  â†’   >4.0.0
 untildify          <4.0.0  â†’   ^4.0.0
 webpack               4.x  â†’      5.x
```

ã“ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã«å•é¡ŒãŒãªã‘ã‚Œã°ã€`npx ncu -u` ã¨ã†ã¤ã ã‘ã§ã™ã€‚ã“ã‚Œã§package.jsonã®æ›´æ–°ãŒçµ‚ã‚ã‚Šã¾ã™ã€‚ç°¡å˜ã§ã—ã‚‡ï¼Ÿ

## çµ‚ã‚ã‚Šã«

ä»¥ä¸Šã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã«é–¢ã™ã‚‹å·¥å¤«ã‚’ã–ã£ãã‚Šæ›¸ã„ã¦ã¿ã¾ã—ãŸã€‚

ä¸Šè¨˜ã®ã‚ˆã†ãªè‡ªå‹•åŒ–ã‚„ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å¤§é›‘æŠŠãªã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’å®‰å…¨ã«å®Ÿè¡Œã™ã‚‹ã«ã¯å‰æã¨ã—ã¦è‡ªå‹•ãƒ†ã‚¹ãƒˆãŒæ•´å‚™ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚ã‚ã‚‹ç¨‹åº¦è‡ªå‹•çš„ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ä¿è¨¼ã—ç¶šã‘ã‚‰ã‚Œã‚‹ã“ã¨ã§ã€åˆã‚ã¦å®‰å…¨ã«è‡ªå‹•åŒ–ãŒã§ãã¾ã™ã€‚ 

ã¨ã„ã†ã“ã¨ã§ã€å€‹äººç”¨ã®ãƒ„ãƒ¼ãƒ«ã ã—ã¨ã‚µãƒœã‚‰ãšãƒ†ã‚¹ãƒˆã‚’æ›¸ã„ã¦ã¿ã‚‹ã®ã‚‚ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ã€‚ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã®ã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å‘ä¸Šã‚„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®è‡ªå‹•åŒ–ã«ã‚‚ç¹‹ãŒã‚Šã¾ã™ã€‚

## å‚è€ƒ

- å®Ÿéš›ã«è¨­å®šã—ã¦ã„ã‚‹ãƒªãƒã‚¸ãƒˆãƒª [515hikaru/pnovel: æ—¥æœ¬èªžå°èª¬ç”¨ç°¡æ˜“ãƒžãƒ¼ã‚¯ã‚¢ãƒƒãƒ—è¨€èªž](https://github.com/515hikaru/pnovel)
